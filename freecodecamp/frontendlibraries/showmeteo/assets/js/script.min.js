function calcolaPercorsoAPI(){"use strict";var e="&",t="https://cors-anywhere.herokuapp.com/";t="";var o="http://api.openweathermap.org/data/2.5/weather?",a="lat="+geoLocalizzazione.lat,i="lon="+geoLocalizzazione.lon,n="lang=it",r="units=metric",c="APPID=5a1518c003259fdaa613a1aa78664ff9",s=t+o+a+e+i+e+n+e+r+e+c;return s}function scriviJson(){"use strict";var e=meteo.name+" ("+meteo.sys.country+")",t=meteo.weather[0].description,o=Math.round(meteo.main.temp)+"° C",a=Math.round(9*meteo.main.temp/5+32)+"° F",i=new Date(1e3*meteo.sys.sunrise),n=new Date(1e3*meteo.sys.sunset),r=i.getHours()+" : "+i.getMinutes(),c=n.getHours()+" : "+n.getMinutes(),s="http://openweathermap.org/img/w/"+meteo.weather[0].icon+".png";$("#idLuogo").html(e),$("#idClima").html(t),$("#idTemperaturaC").html(o),$("#idTemperaturaF").html(a),$("#idAlba").html(r),$("#idTramonto").html(c),$("#iconaTempo").html("<img src ="+s+" height='60' width='60'>"),$("#attendi-caricamento-dati").fadeOut()}function creaOggettoDaJson(){"use strict";var e=calcolaPercorsoAPI();$.getJSON(e,function(e){var t=JSON.stringify(e);meteo=JSON.parse(t),scriviJson()})}var geoLocalizzazione={status:"success",country:"COUNTRY",countryCode:"COUNTRY CODE",region:"REGION CODE",regionName:"REGION NAME",city:"CITY",zip:"ZIP CODE",lat:0,lon:0,timezone:"TIME ZONE",isp:"ISP NAME",org:"ORGANIZATION NAME",as:"AS NUMBER / NAME",query:"IP ADDRESS USED FOR QUERY"},meteo={};$(document).ready(function(){"use strict";$.getJSON("http://ip-api.com/json/?callback=?",function(e){$.each(e,function(e,t){geoLocalizzazione[e]=t}),creaOggettoDaJson()})});